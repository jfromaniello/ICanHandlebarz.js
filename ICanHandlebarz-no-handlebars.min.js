(function(){window.ich=new function(){var a=this;a.VERSION="0.1";a.templates={};a.addTemplate=function(c,d){if(a[c])throw"Invalid name: "+c+".";if(a.templates[c])throw'Template " + name + " exists';a.templates[c]=Handlebars.compile(d);a[c]=function(b,d){var b=b||{},f=a.templates[c](b);return d?f:$(f)}};a.addPartial=function(a,d){if(Handlebars.partials[a])throw'Partial " + name + " exists';Handlebars.registerPartial(a,d)};a.addHelper=function(a,d,b){if(Handlebars.helpers[a])throw'Helper " + name + " exists';
"function"===typeof d?Handlebars.registerHelper(a,d):Handlebars.registerHelper(a,new Function(b,d))};a.grabTemplates=function(){$('script[type="text/html"]').each(function(c,d){var b=$("number"===typeof c?d:c),e="".trim?b.html().trim():$.trim(b.html());b.hasClass("partial")?a.addPartial(b.attr("id"),e):b.hasClass("helper")?a.addHelper(b.attr("id"),e,b.attr("data-args")):a.addTemplate(b.attr("id"),e);b.remove()})};a.clearAll=function(){for(var c in a.templates)delete a[c];a.templates={};Handlebars.partials=
{}};a.refresh=function(){a.clearAll();a.grabTemplates()}};$(function(){ich.grabTemplates()})})();
